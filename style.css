/* --- Đỏ Đen Modern Theme & Animation --- */
body, .gradient-bg {
    background: radial-gradient(ellipse at top left, #2d1810 0%, #1a1a1a 80%);
    color: #fff;
}

/* Card, block, core loop: nền đen, viền đỏ, hiệu ứng shadow */
.chapter-card, .modern-card, .bg-gray-800, .loop-step {
    background: rgba(30, 10, 10, 0.92) !important;
    border: 2px solid #FF2D2D !important;
    border-radius: 1.5rem;
    box-shadow: 0 4px 24px rgba(220, 38, 38, 0.18);
    transition: transform 0.3s cubic-bezier(0.4,0,0.2,1), box-shadow 0.3s, border-color 0.3s;
}
.chapter-card:hover, .modern-card:hover, .bg-gray-800:hover, .loop-step:hover {
    transform: translateY(-10px) scale(1.04) rotate(-2deg);
    box-shadow: 0 12px 40px rgba(255,38,38,0.32);
    border-color: #FFD700 !important;
}

/* Core loop icon: hiệu ứng pulse và glow khi hover */
.skill-icon {
    background: linear-gradient(135deg, #FF2D2D, #FFD700, #1a1a1a);
    color: #FFD700;
    border: 2px solid #FFD700;
    box-shadow: 0 10px 30px rgba(220, 38, 38, 0.3);
    transition: transform 0.3s cubic-bezier(0.4,0,0.2,1), box-shadow 0.3s;
}
.skill-icon:hover {
    transform: scale(1.15) rotate(-8deg);
    box-shadow: 0 0 40px 10px #FFD700;
    animation: iconPulse 0.8s;
}
@keyframes iconPulse {
    0% { box-shadow: 0 0 0 0 #FFD700; }
    50% { box-shadow: 0 0 40px 20px #FFD700; }
    100% { box-shadow: 0 0 0 0 #FFD700; }
}

/* Nút chính: hiệu ứng gradient và pulse */
.btn-primary {
    background: linear-gradient(135deg, #FF2D2D, #FFD700);
    color: #fff;
    border: 2px solid #FFD700;
    box-shadow: 0 8px 25px rgba(220, 38, 38, 0.3);
    animation: btnPulse 2s infinite;
    transition: all 0.3s ease;
}
@keyframes btnPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(255,38,38,0.4); }
    50% { box-shadow: 0 0 16px 8px rgba(255,38,38,0.2); }
}
.btn-primary:hover {
    background: linear-gradient(135deg, #FFD700, #FF2D2D);
    color: #1a1a1a;
    box-shadow: 0 12px 35px rgba(255, 215, 0, 0.4);
    transform: scale(1.08);
}

/* Tiêu đề vàng: shimmer gradient chạy ngang */
.gold-text {
    background: linear-gradient(90deg, #FFD700, #FF2D2D, #FFD700);
    background-size: 200% 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 2.5s linear infinite;
    text-shadow: 0 0 30px rgba(255, 38, 38, 0.5);
}
@keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

/* Arrow hiệu ứng vàng */
.loop-arrow {
    color: #FFD700;
    transition: transform 0.3s;
}
.loop-step:hover .loop-arrow {
    transform: translateY(-50%) scale(1.3) rotate(-10deg);
}

/* Grid item: fade-in khi xuất hiện */
.slide .grid > div, .chapter-card, .loop-step {
    opacity: 0;
    transform: translateY(40px) scale(0.98);
    animation: sectionFadeIn 0.8s cubic-bezier(0.4,0,0.2,1) forwards;
    animation-delay: 0.5s;
}
@keyframes sectionFadeIn {
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Stagger effect cho core loop */
.gameplay-loop .loop-step:nth-child(1) { animation-delay: 0.5s; }
.gameplay-loop .loop-step:nth-child(2) { animation-delay: 0.7s; }
.gameplay-loop .loop-step:nth-child(3) { animation-delay: 0.9s; }
.gameplay-loop .loop-step:nth-child(4) { animation-delay: 1.1s; }

/* Icon FontAwesome: bounce khi hover */
.slide .fas, .slide .fab {
    transition: transform 0.3s cubic-bezier(0.4,0,0.2,1);
}
.slide .fas:hover, .slide .fab:hover {
    transform: scale(1.2) rotate(-8deg);
    color: #FFD700 !important;
    filter: drop-shadow(0 0 10px #FF2D2D);
}

/* Scrollbar đỏ-vàng */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: rgba(220, 38, 38, 0.1);
}
::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #FF2D2D, #FFD700);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #FFD700, #FF2D2D);
}

/* Responsive: disable animation on mobile */
@media (max-width: 768px) {
    .slide, .slide .gameplay-loop .loop-step, .slide .chapter-card, .slide .grid > div {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
    }
}